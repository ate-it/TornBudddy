<!DOCTYPE html>
<html>
  <head>
    <!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <title><%= content_for(:title) || "Torn Buddy" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">
    <%= stylesheet_link_tag "application" %>
  </head>

  <body>
    <%= yield %>
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
<div class="position-fixed top-0 start-50 translate-middle-x p-3" style="z-index: 11">
  <% flash.each do |type, message| %>
    <div class="toast align-items-center text-white bg-<%= bootstrap_class_for(type) %> border-0 show" role="alert" aria-live="assertive" aria-atomic="true" style="min-width: 300px; max-width: 500px; transform: translateY(50px);">
      <div class="d-flex">
        <div class="toast-body">
          <%= message %>
        </div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
    </div>
  <% end %>
</div>

</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll('.toast').forEach(toast => {
      new bootstrap.Toast(toast).show();
    });
  });
</script>

    <!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  </body>
</html>
